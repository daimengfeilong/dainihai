!function(e){function t(e,t,n){for(var a in t)!t.hasOwnProperty(a)||e.hasOwnProperty(a)&&!n||(e[a]=t[a]);return e}function n(e,t,n,a){return a=a||"-",t=t.toString()[1]?t:"0"+t,n=n.toString()[1]?n:"0"+n,e+a+t+a+n}function a(e){var a={},e=t(a,e,!0),i=e.date?new Date(e.date):new Date,r=i.getFullYear(),l=i.getMonth(),o=i.getDate(),u=i.getFullYear(),s=i.getMonth(),c=i.getDate(),d=document.querySelector(e.el)||document.querySelector("body"),h=this,p=function(){d.addEventListener("click",function(e){switch(e.target.id){case"nextMonth":h.nextMonthFun();break;case"nextYear":h.nextYearFun();break;case"prevMonth":h.prevMonthFun();break;case"prevYear":h.prevYearFun()}},!1)},f=function(){for(var e=new Date(r,l+1,0).getDate(),t=new Date(r,l,1).getDay(),a=(e+t)%7==0?e+t:e+t+(7-(e+t)%7),i=new Date(r,l,0).getDate(),o=[],h=0;h<a;h++)if(h<t)o.push('<li class="other-month"><span class="dayStyle">'+(i-t+1+h)+"</span></li>");else if(h<t+e){var p=n(r,l+1,h+1-t,"-"),f="";""==p&&(f="selected-style"),n(u,s+1,c,"-")==p&&(f="today-flag"),o.push('<li class="current-month" ><span title='+p+' class="currentDate dayStyle '+f+'">'+(h+1-t)+"</span></li>")}else o.push('<li class="other-month"><span class="dayStyle">'+(h+1-(t+e))+"</span></li>");d.querySelector(".schedule-bd").innerHTML=o.join(""),d.querySelector(".today").innerHTML=r+"年"+parseInt(l+1)+"月"};this.nextMonthFun=function(){l+1>11?(r+=1,l=0):l+=1,f(),e.nextMonthCb&&e.nextMonthCb(r,l+1,o)},this.nextYearFun=function(){r+=1,f(),e.nextYeayCb&&e.nextYeayCb(r,l+1,o)},this.prevMonthFun=function(){l-1<0?(r-=1,l=11):l-=1,f(),e.prevMonthCb&&e.prevMonthCb(r,l+1,o)},this.prevYearFun=function(){r-=1,f(),e.prevYearCb&&e.prevYearCb(r,l+1,o)},function(){var e='<div class="schedule-hd"><div></div><div class="today">'+r+"年"+parseInt(l+1)+"月</div><div></div></div>";d.innerHTML=e+'<ul class="week-ul ul-box"><li>日</li><li>一</li><li>二</li><li>三</li><li>四</li><li>五</li><li>六</li></ul><ul class="schedule-bd ul-box" ></ul>',p(),f()}()}var i;i=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?define(function(){return a}):!("Schedule"in i)&&(i.Schedule=a)}();