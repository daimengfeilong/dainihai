jQuery.fn.extend({delayLoading:function(r){function t(t){var o,n;return void 0===r.container||r.container===window?(o=$(window).scrollTop(),n=$(window).height()+$(window).scrollTop()):(o=$(r.container).offset().top,n=$(r.container).offset().top+$(r.container).height()),t.offset().top+t.height()+r.beforehand>=o&&n>=t.offset().top-r.beforehand}function o(t){var o,n;return void 0===r.container||r.container===window?(o=$(window).scrollLeft(),n=$(window).width()+$(window).scrollLeft()):(o=$(r.container).offset().left,n=$(r.container).offset().left+$(r.container).width()),t.offset().left+t.width()+r.beforehand>=o&&n>=t.offset().left-r.beforehand}function n(){e.filter("img["+r.imgSrcAttr+"]").each(function(n,e){if(void 0!==$(e).attr(r.imgSrcAttr)&&null!==$(e).attr(r.imgSrcAttr)&&""!==$(e).attr(r.imgSrcAttr)&&t($(e))&&o($(e))){var i=new Image;i.onload=function(){$(e).attr("src",i.src),0!==r.duration&&$(e).hide().fadeIn(r.duration),$(e).removeAttr(r.imgSrcAttr),r.success($(e))},i.onerror=function(){$(e).attr("src",r.errorImg),$(e).removeAttr(r.imgSrcAttr),r.error($(e))},i.src=$(e).attr(r.imgSrcAttr)}})}r=jQuery.extend({defaultImg:"",errorImg:"",imgSrcAttr:"originalSrc",beforehand:0,event:"scroll",duration:"normal",container:window,success:function(){},error:function(){}},r||{}),void 0!==r.errorImg&&null!==r.errorImg&&""!==r.errorImg||(r.errorImg=r.defaultImg);var e=$(this);void 0!==e.attr("src")&&null!==e.attr("src")&&""!==e.attr("src")||e.attr("src",r.defaultImg),n(),$(r.container).bind(r.event,function(){n()})}});